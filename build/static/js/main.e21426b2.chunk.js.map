{"version":3,"sources":["service/phone.js","App.js","index.js"],"names":["baseUrl","phone","axios","get","newObject","post","id","delete","concat","App","_useState","useState","_useState2","Object","slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newPhone","setNewPhone","_useState7","_useState8","newFilter","setNewFilter","_useState9","_useState10","SuccessMessage","setSuccessMessage","handleDelete","event","console","log","target","phoneService","then","response","filter","p","useEffect","data","react_default","a","createElement","_ref","message","className","value","onChange","onSubmit","preventDefault","NumberObject","name","number","flag","forEach","person","setTimeout","alert","type","map","indexOf","onClick","ReactDOM","render","src_App","document","getElementById"],"mappings":"qNACMA,EAAU,eAkBDC,EAhBA,WACb,OAAOC,IAAMC,IAAIH,IAeJC,EAZA,SAAAG,GACb,OAAOF,IAAMG,KAAKL,EAASI,IAWdH,EAJC,SAACK,EAAIF,GACjB,OAAOF,IAAMK,OAAN,GAAAC,OAAgBR,EAAhB,KAAAQ,OAA2BF,GAAMF,ICgH7BK,SA5HH,WAAM,IAAAC,EAEcC,mBAAS,IAFvBC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAETK,EAFSH,EAAA,GAEAI,EAFAJ,EAAA,GAAAK,EAGcN,mBAAS,IAHvBO,EAAAL,OAAAC,EAAA,EAAAD,CAAAI,EAAA,GAGTE,EAHSD,EAAA,GAGAE,EAHAF,EAAA,GAAAG,EAIgBV,mBAAS,IAJzBW,EAAAT,OAAAC,EAAA,EAAAD,CAAAQ,EAAA,GAITE,EAJSD,EAAA,GAICE,EAJDF,EAAA,GAAAG,EAKkBd,mBAAS,IAL3Be,EAAAb,OAAAC,EAAA,EAAAD,CAAAY,EAAA,GAKTE,EALSD,EAAA,GAKEE,EALFF,EAAA,GAAAG,EAM4BlB,mBAAS,MANrCmB,EAAAjB,OAAAC,EAAA,EAAAD,CAAAgB,EAAA,GAMTE,EANSD,EAAA,GAMOE,EANPF,EAAA,GAQVG,EAAe,SAACC,GACpBC,QAAQC,IAAIF,EAAMG,OAAO/B,IACzBgC,EACQJ,EAAMG,OAAO/B,IACpBiC,KAAK,SAAAC,GACJxB,EAAWD,EAAQ0B,OAAO,SAAAC,GAAC,OAAIA,EAAEpC,KAAO4B,EAAMG,OAAO/B,SAIzDqC,oBAAU,WACRL,IAEGC,KAAK,SAAAC,GACJxB,EAAWwB,EAASI,SAEvB,IA0DH,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAfiB,SAAAC,GAAiB,IAAdC,EAAcD,EAAdC,QACtB,OAAgB,OAAZA,EACK,KAIPJ,EAAAC,EAAAC,cAAA,OAAKG,UAAU,WACZD,IAQH,CAAcA,QAASlB,IACvBc,EAAAC,EAAAC,cAAA,sBACYF,EAAAC,EAAAC,cAAA,SAAOI,MAAOxB,EAAWyB,SArBd,SAAClB,GAC1BN,EAAaM,EAAMG,OAAOc,WAsBxBN,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,QAAMM,SAhEQ,SAACnB,GACjBA,EAAMoB,iBACN,IAAMC,EAAe,CACnBC,KAAKrC,EACLsC,OAAOlC,GAELmC,EAAK,EACT3C,EAAQ4C,QAAQ,SAASC,GACnBL,EAAaC,OAAOI,EAAOJ,OAC7BE,EAAK,KAGE,IAAPA,EACFpB,EACQiB,GACPhB,KAAK,SAAAC,GACJxB,EAAWD,EAAQP,OAAOgC,EAASI,OACnCxB,EAAW,IACXY,EAAiB,SAAAxB,OACN+C,EAAaC,OAExBK,WAAW,WACT7B,EAAkB,OACjB,OAKL8B,MAAK,GAAAtD,OAAIW,EAAJ,qCAqCH0B,EAAAC,EAAAC,cAAA,oBACQF,EAAAC,EAAAC,cAAA,SAAOI,MAAOhC,EAASiC,SAlCZ,SAAClB,GACxBd,EAAWc,EAAMG,OAAOc,UAkClBN,EAAAC,EAAAC,cAAA,WAFF,UAGSF,EAAAC,EAAAC,cAAA,SAAOI,MAAO5B,EAAU6B,SAhCb,SAAClB,GACzBV,EAAYU,EAAMG,OAAOc,WAiCrBN,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQgB,KAAK,UAAb,SAGJlB,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,UACGhC,EAAQiD,IAAI,SAAAjD,GACX,OAAGA,EAAQyC,KAAKS,QAAQtC,GAAW,GAAe,KAAZA,EAGlCkB,EAAAC,EAAAC,cAAA,UAMAF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,SAAIhC,EAAQyC,KAAZ,IAAmBzC,EAAQ0C,OAA3B,IAAmCZ,EAAAC,EAAAC,cAAA,UAAQmB,QAASjC,EAAc3B,GAAIS,EAAQT,IAA3C,UAAnC,YChHhB6D,IAASC,OACPvB,EAAAC,EAAAC,cAACsB,EAAD,MACAC,SAASC,eAAe","file":"static/js/main.e21426b2.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst deletee = (id, newObject) => {\r\n    return axios.delete(`${baseUrl}/${id}`, newObject)\r\n  }\r\n\r\nexport default {\r\n  getAll: getAll,\r\n  create: create,\r\n  update: update,\r\n  delete: deletee,\r\n}","import React,{ useState, useEffect } from 'react'\nimport phoneService from './service/phone'\nimport './index.css'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newPhone, setNewPhone] = useState('')\n  const [newFilter, setNewFilter] = useState('')\n  const [SuccessMessage, setSuccessMessage] = useState(null)\n\n  const handleDelete = (event) => {\n    console.log(event.target.id)\n    phoneService\n    .delete(event.target.id)\n    .then(response => {\n      setPersons(persons.filter(p => p.id !== event.target.id))\n    })\n  }\n\n  useEffect(() => {\n    phoneService\n      .getAll()\n      .then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const addNumber = (event) => {\n    event.preventDefault()\n    const NumberObject = {\n      name:newName,\n      number:newPhone\n    }\n    let flag=0\n    persons.forEach(function(person){\n      if (NumberObject.name===person.name){\n        flag=1\n      }\n    });\n    if (flag===0){\n      phoneService\n      .create(NumberObject)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setSuccessMessage(\n          `Added ${NumberObject.name}`\n        )\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n\n      })\n    }\n    else {\n      alert(`${newName} is already added to phonebook`)\n    }\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handlePhoneChange = (event) => {\n    setNewPhone(event.target.value)\n  }\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className='success'>\n        {message}\n      </div>\n    )\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={SuccessMessage} />\n      <div>\n          filter: <input value={newFilter} onChange={handleFilterChange} />\n        </div>\n      <h2>Add a new</h2>\n      <form onSubmit={addNumber}>\n        <div>\n          name: <input value={newName} onChange={handleNameChange} />\n          <br></br>\n          phone: <input value={newPhone} onChange={handlePhoneChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      <ul>\n        {persons.map(persons => {\n          if(persons.name.indexOf(newFilter)<0&&newFilter!=='')\n          {\n            return (\n              <p></p>\n            )\n          }\n          else\n          {\n            return (\n              <div>\n                <p>{persons.name} {persons.number} <button onClick={handleDelete} id={persons.id}>delete</button> </p>\n              </div>\n            )\n          }\n        \n        }\n        )}\n      </ul>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}